{"components":{},"info":{"contact":{"email":"247274526@qq.com","name":"liuxin"},"description":"web server api docs","title":"yumi","version":"v1"},"openapi":"3.0.0","paths":{"/api/om/shareaccounts/cancel":{"description":"\n加密：true,验签：true","post":{"description":"\n加密：true,验签：true","requestBody":{"content":{"application/json":{"schema":{"properties":{"share_id":{"description":"分享id","type":"string"}},"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"description":"返回业务数据","properties":{"code":{"description":"错误编码，0为成功","type":"integer"},"details":{"description":"错误详情","items":{"type":"string"},"type":"array"},"message":{"description":"错误消息，OK为成功","type":"string"}},"type":"object"}}},"description":"Success"}},"summary":"取消分享","tags":["shareaccounts"]},"summary":"取消分享"},"/api/om/shareaccounts/create":{"description":"\n加密：true,验签：true","post":{"description":"\n加密：true,验签：true","requestBody":{"content":{"application/json":{"schema":{"properties":{"account_num":{"description":"分享账户个数","type":"number"},"data_url":{"description":"分享内容url","type":"string"},"desc":{"description":"分享详情","type":"string"},"img_url":{"description":"分享图片url","type":"string"},"link":{"description":"分享连接","type":"string"},"parent_share_id":{"description":"上级分享id","type":"string"},"sender":{"description":"分享者","type":"string"},"title":{"description":"分享标题","type":"string"},"type":{"description":"分享类型","type":"number"}},"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"description":"返回业务数据","properties":{"code":{"description":"错误编码，0为成功","type":"integer"},"data":{"description":"业务数据详情","properties":{"data_url":{"description":"分享内容url","type":"string"},"desc":{"description":"分享详情","type":"string"},"img_url":{"description":"分享图片","type":"string"},"link":{"description":"分享连接","type":"string"},"title":{"description":"分享标题","type":"string"},"type":{"description":"分享类型","type":"number"}},"type":"object"},"details":{"description":"错误详情","items":{"type":"string"},"type":"array"},"message":{"description":"错误消息，OK为成功","type":"string"}},"type":"object"}}},"description":"Success"}},"summary":"创建分享","tags":["shareaccounts"]},"summary":"创建分享"},"/api/om/shareaccounts/get":{"description":"\n加密：false,验签：false","get":{"description":"\n加密：false,验签：false","parameters":[{"description":"分享id","in":"query","name":"share_id","schema":{"type":"string"}},{"description":"分享id","in":"query","name":"unionid","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"properties":{"":{"description":"分享id","type":"string"}},"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"description":"返回业务数据","properties":{"code":{"description":"错误编码，0为成功","type":"integer"},"data":{"description":"业务数据详情","properties":{"can_share_number":{"description":"还可以分享账号个数","type":"number"},"received":{"description":"是否领用","type":"boolean"},"received_account":{"description":"领用账号","type":"string"},"share_id":{"description":"分享id","type":"string"},"total":{"description":"账号总数","type":"number"}},"type":"object"},"details":{"description":"错误详情","items":{"type":"string"},"type":"array"},"message":{"description":"错误消息，OK为成功","type":"string"}},"type":"object"}}},"description":"Success"}},"summary":"获取分享账号详情","tags":["shareaccounts"]},"summary":"获取分享账号详情"},"/api/om/shareaccounts/list":{"description":"\n加密：false,验签：false","get":{"description":"\n加密：false,验签：false","parameters":[{"description":"页数","in":"query","name":"page","schema":{"type":"string"}},{"description":"当前页行数","in":"query","name":"size","schema":{"type":"string"}},{"description":"分享者","in":"query","name":"sender","schema":{"type":"string"}},{"description":"上级分享id","in":"query","name":"parent_share_id","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"properties":{"":{"description":"上级分享id","type":"string"}},"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"description":"返回业务数据","properties":{"code":{"description":"错误编码，0为成功","type":"integer"},"data":{"description":"业务数据详情","properties":{"items":{"description":"具体数据数组","items":{"properties":{"can_share_number":{"description":"还可以分享账号个数","type":"number"},"cancellation_msg":{"description":"是否取消分享","type":"boolean"},"data_url":{"description":"分享内容链接","type":"string"},"desc":{"description":"分享描述","type":"string"},"img_url":{"description":"分享图片链接","type":"string"},"link":{"description":"分享链接","type":"string"},"opend_time":{"description":"打开时间","properties":{"":{"type":"object"}},"type":"object"},"parent_share_id":{"description":"父级id","type":"string"},"received":{"description":"是否领用","type":"boolean"},"received_account":{"description":"领用账号","type":"string"},"receiver":{"description":"接收者","type":"string"},"send_time":{"description":"分享时间","properties":{"":{"type":"object"}},"type":"object"},"sender":{"description":"分享者","type":"string"},"share_id":{"description":"分享id","type":"string"},"title":{"description":"分享标题","type":"string"},"total":{"description":"账号个数","type":"number"},"type":{"description":"分享类型","type":"number"}},"type":"object"},"type":"array"},"len":{"description":"当前页长度","type":"number"},"page":{"description":"页数","type":"number"},"size":{"description":"页行数","type":"number"},"total":{"description":"总数","type":"number"}},"type":"object"},"details":{"description":"错误详情","items":{"type":"string"},"type":"array"},"message":{"description":"错误消息，OK为成功","type":"string"}},"type":"object"}}},"description":"Success"}},"summary":"分享列表","tags":["shareaccounts"]},"summary":"分享列表"},"/api/om/shareaccounts/open":{"description":"\n加密：true,验签：true","post":{"description":"\n加密：true,验签：true","requestBody":{"content":{"application/json":{"schema":{"properties":{"receiver":{"description":"接收人","type":"string"},"share_id":{"description":"分享id","type":"string"}},"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"description":"返回业务数据","properties":{"code":{"description":"错误编码，0为成功","type":"integer"},"details":{"description":"错误详情","items":{"type":"string"},"type":"array"},"message":{"description":"错误消息，OK为成功","type":"string"}},"type":"object"}}},"description":"Success"}},"summary":"打开分享","tags":["shareaccounts"]},"summary":"打开分享"},"/api/om/shareaccounts/receiveaccount":{"description":"\n加密：true,验签：true","post":{"description":"\n加密：true,验签：true","requestBody":{"content":{"application/json":{"schema":{"properties":{"share_id":{"description":"分享id","type":"string"}},"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"description":"返回业务数据","properties":{"code":{"description":"错误编码，0为成功","type":"integer"},"data":{"description":"业务数据详情","properties":{"account":{"description":"账号","type":"string"},"password":{"description":"密码","type":"string"}},"type":"object"},"details":{"description":"错误详情","items":{"type":"string"},"type":"array"},"message":{"description":"错误消息，OK为成功","type":"string"}},"type":"object"}}},"description":"Success"}},"summary":"领取账号","tags":["shareaccounts"]},"summary":"领取账号"},"/api/users/customerlogin":{"description":"\n加密：false,验签：false","post":{"description":"\n加密：false,验签：false","requestBody":{"content":{"application/json":{"schema":{"properties":{"openid":{"description":"微信openid","type":"string"},"unionid":{"description":"微信unionid","type":"string"}},"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"description":"返回业务数据","properties":{"code":{"description":"错误编码，0为成功","type":"integer"},"data":{"description":"业务数据详情","properties":{"phone_number":{"description":"电话号码","type":"string"},"token":{"description":"令牌","type":"string"},"user_guid":{"description":"用户guid","type":"string"},"user_name":{"description":"用户名称","type":"string"}},"type":"object"},"details":{"description":"错误详情","items":{"type":"string"},"type":"array"},"message":{"description":"错误消息，OK为成功","type":"string"}},"type":"object"}}},"description":"Success"}},"summary":"顾客登录","tags":["users"]},"summary":"顾客登录"},"/api/users/existbywxjscode":{"description":"\n加密：false,验签：false","get":{"description":"\n加密：false,验签：false","parameters":[{"description":"wx.login返回的jscode","in":"query","name":"jscode","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"properties":{"":{"description":"wx.login返回的jscode","type":"string"}},"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"description":"返回业务数据","properties":{"code":{"description":"错误编码，0为成功","type":"integer"},"data":{"description":"业务数据详情","properties":{"exist":{"description":"是否存在","type":"boolean"},"openid":{"description":"微信小程序openid","type":"string"},"session_key":{"description":"微信session_key","type":"string"},"unionid":{"description":"微信unionid","type":"string"}},"type":"object"},"details":{"description":"错误详情","items":{"type":"string"},"type":"array"},"message":{"description":"错误消息，OK为成功","type":"string"}},"type":"object"}}},"description":"Success"}},"summary":"通过jscode判断微信openid是否在user中","tags":["users"]},"summary":"通过jscode判断微信openid是否在user中"},"/api/users/existbywxopenid":{"description":"\n加密：false,验签：false","get":{"description":"\n加密：false,验签：false","parameters":[{"description":"微信openid","in":"query","name":"openid","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"properties":{"":{"description":"微信openid","type":"string"}},"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"description":"返回业务数据","properties":{"code":{"description":"错误编码，0为成功","type":"integer"},"data":{"description":"业务数据详情","properties":{"exist":{"description":"是否存在","type":"boolean"}},"type":"object"},"details":{"description":"错误详情","items":{"type":"string"},"type":"array"},"message":{"description":"错误消息，OK为成功","type":"string"}},"type":"object"}}},"description":"Success"}},"summary":"是否存在用户","tags":["users"]},"summary":"是否存在用户"},"/api/users/getwxsessionkey":{"description":"\n加密：false,验签：false","get":{"description":"\n加密：false,验签：false","parameters":[{"description":"wx.login返回的jscode","in":"query","name":"jscode","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"properties":{"":{"description":"wx.login返回的jscode","type":"string"}},"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"description":"返回业务数据","properties":{"code":{"description":"错误编码，0为成功","type":"integer"},"data":{"description":"业务数据详情","properties":{"openid":{"description":"微信小程序openid","type":"string"},"session_key":{"description":"微信session_key","type":"string"},"unionid":{"description":"微信unionid","type":"string"}},"type":"object"},"details":{"description":"错误详情","items":{"type":"string"},"type":"array"},"message":{"description":"错误消息，OK为成功","type":"string"}},"type":"object"}}},"description":"Success"}},"summary":"获取微信小程序sessionkey","tags":["users"]},"summary":"获取微信小程序sessionkey"},"/api/users/login":{"description":"\n加密：false,验签：false","post":{"description":"\n加密：false,验签：false","requestBody":{"content":{"application/json":{"schema":{"properties":{"randstr":{"description":"随机字符串","type":"string"},"sign":{"description":"签名","type":"string"},"timestamp":{"description":"时间戳","type":"string"},"userid":{"description":"用户id","type":"string"}},"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"description":"返回业务数据","properties":{"code":{"description":"错误编码，0为成功","type":"integer"},"data":{"description":"业务数据详情","properties":{"phone_number":{"description":"电话号码","type":"string"},"token":{"description":"令牌","type":"string"},"user_guid":{"description":"用户guid","type":"string"},"user_name":{"description":"用户名称","type":"string"}},"type":"object"},"details":{"description":"错误详情","items":{"type":"string"},"type":"array"},"message":{"description":"错误消息，OK为成功","type":"string"}},"type":"object"}}},"description":"Success"}},"summary":"登录用户","tags":["users"]},"summary":"登录用户"},"/api/users/register":{"description":"\n加密：false,验签：false","post":{"description":"\n加密：false,验签：false","requestBody":{"content":{"application/json":{"schema":{"properties":{"password":{"description":"用户密码","type":"string"},"phone_number":{"description":"电话号码","type":"string"},"user_id":{"description":"用户id","type":"string"},"user_name":{"description":"用户名称","type":"string"},"wx_openid":{"description":"微信小程序openid","type":"string"},"wx_unionid":{"description":"微信unionid","type":"string"}},"type":"object"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"description":"返回业务数据","properties":{"code":{"description":"错误编码，0为成功","type":"integer"},"details":{"description":"错误详情","items":{"type":"string"},"type":"array"},"message":{"description":"错误消息，OK为成功","type":"string"}},"type":"object"}}},"description":"Success"}},"summary":"注册用户","tags":["users"]},"summary":"注册用户"}},"servers":[{"url":"http://192.168.8.111:8012"}]}
